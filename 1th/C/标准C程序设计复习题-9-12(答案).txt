9.22复习题
9.1请判断下面语句的对错。
(a)C函数在其函数名下只能返回一个值。错
(b)C语言的函数至少要有一个参数。错
(c)自定义函数可以放置在main函数之前定义。对
(d)自定义函数可以在main函数内部定义。对
(e)自定义函数至少要被调用一次,否则将给出警告信息。不一定：我用gcc -ansi实验过，没有警告信息。
(f)任何名称都可用作函数名。错：至少不能用保留字
(g)只有void类型的函数才可有void类型的参数。错
(h)当变量的值传递给函数时,将在内存中创建一个备份。 对
(i)不管main函数位于什么位置,程序的运行总是从它开始。 对
(j)全局变量在程序的所有代码块和函数中都是可见的。 对
(k)函数可以调用自己。对
(1)不含return语句的函数是非法的。错
(m)全局变量不能声明为auto变量。对
(n)函数原型必须放置在调用函数之外。错
(o)默认的函数的返回值类型为int。对
(p)函数原型中使用的变量名必须与函数定义中的相匹配。 错
(q)使用指针进行参数传递时,必须在参数中给参数加前缀符*。 对
(r)使用指针进行参数传递时,函数调用中的实参可以是变量或常量。 错：必须是变量的地址
(s)将数组传递给函数时,函数调用必须使用不带括号的数组名。 对
(t)将字符串传递给函数时,实参必须是该字符串名,后加括号,括号中为数组的大小。错
9.2请在空白处填入适当的词。
(a)函数调用中使用的参数称为       。实参
(b)在函数中声明的变量称为       。自动变量
(c)默认地,C函数返回值的类型为       。int
(d)用指针进行参数传递时,参数的变量必须在声明时加前缀       符号。 *
(e)在原型声明中,指定       为可选的。参数名
(f)       是指变量实际可用的范围。变量的作用域
(g)调用自身的函数称为       函数。迭代
(h)如果局域变量需要在函数调用之间保持其值,则必须将该变量声明为       。 静态变量
(i)       有助于编译器检查实际变量与形式变量之间的匹配'情况。 函数声明
(j)默认地,声明在函数内部的变量为       存储类。自动变量
9.3main函数是一个自定义函数。它与其他自定义函数的区别是什么? 
main函数是C语言一个特别的函数。每个程序都必须有一个main函数，表明程序运行的起始点。
9.4请描述两种给函数传递参数的方法。这两种方法分别在什么时候你更希望喜欢使用。
第一种：用一般数据类型传递：当我们仅仅想希望从函数外部获得参数值时使用；
第二种：用指针进行传递：当我们希望从函数中获得更多的返回值时使用，或者说希望通过函数来修改某些变量的值时使用。
9.5何谓原型?为什么说它是必要的?
C程序中的所有函数在使用之前都必须声明，函数声明又被称为函数原形。
如果没有函数原形，C假设函数的返回类型为整形，参数的类型与形式定义相匹配。如果这些假设有误，那么链接程序将失败。
9.6请区分以下两者之间的不同。
(a)实参与形参。形参列表声明变量，以接收从调用函数发送来的数据，它们属于函数的内部变量；实参列表是函数调用时被传递给函数的参数，它们并不属于函数。
(b)全局变量与局部变量。 
全局变量的使用范围是从该变量的声明位置开始到程序的末尾为止；局部变量的作用范围是从该变量的声明位置开始，直到生命他的代码块或函数末尾为止。
(c)自动变量与静态变量。
自动变量是当调用该函数时创建变量，函数退出时自动销毁；静态变量值在程序编译时初始化一次，以后再也不进行初始化了。
(d)变量的使用范围与可见性。
使用范围确定了程序的哪些区域可以使用该变量；可见性指的是内存变量的可访问性。
(e)&运算符与*运算符。
&是地址运算符，用来取变量的地址；*是间接运算符，用来取指针所指空间中的内容。
9.7请解释一下,当在程序中遇到以下情况时,可能发生什么。
(a)函数中的实参比形参少。
则那些没有实参与之相配的形参将被初始化为垃圾数据。
(b)某个实参的数据类型与相应的形参不匹配。 
产生垃圾数据。
(c)原型中某个参数的数据类型与头文件中相应的形参不匹配。 
编译器产生错误。
(d)函数调用中实参的顺序与函数的形参的不同(所有参数的类型相同)。 
虽然运行时不会产生错误，但函数运行的结果是错误的，是与预期结果不同的。
(e)在return语句中使用的表达式类型与函数的类型不匹配。 
将会自动把在return语句中使用的表达式类型强制转换为函数的类型，并在编译时应该出现警告的提示信息。
9.8下面哪些原型声明是非法的?为什么?
(a)int (fun)void; 语法错误。
(b)double fun (void) 语法错误：缺少分号。
(c)float fun(x,y,n); 缺少形参的类型声明。
(d) void fun(void,void) 语法错误：缺少分号。
(e)int fun(int a,b); 形参b缺少形参的类型声明。
(f)fun(int,float,char); 可能正确：如果fun返回的是int类型的数据，但编译时也会出现警告信息。
(g) void fun(int a,int &b); 错误：&符应为*。
9.9下面哪些行是非法的?为什么?
(a)float average (float x,float y,float z); 正确
(b)double power (double a,int n-l) 错误：1、没有分号；2、函数参数形式错误int n-l
(c) int product(int m ,10) 错误：1、没有分号；2、不能将常量10作为形参
(d)double minimum (double x;double y;) 错误：1、没有分号；2、不能使用分号分隔参数列表
(e)int mul(int x , y) 错误：1、没有分号；2、形参y没有定义类型
(f)exchange (int*a , int *b) 错误：没有分号
(g)void sum (int a , int b, int &c) 错误：1、没有分号；2、&应为* 
9.10请指出下面函数定义中的错误(如果有)。
(a)void abc(int a, int b)
{
　　int c ;
    ......
   return (c);
}
错误：函数的类型应该与返回值类型相同，函数的类型应为int。
(b)  void abc(int a;int b)
　　{
　　   ......
　　}
错误：不能使用分号分隔参数列表。
 (c)void abc(int a, int b)
    {
　　double c =a +b; 
　　return(c);
　　}
错误：函数的类型应该与返回值类型相同，函数的类型应为double。
(d)void abc(void)
　　{
　　  ......
　　　return;
　　}
正确。
(e)int abc(void)
  {
     ......
     return ;
   }
没有语法错误。但因为函数的类型为int，所以应该返回一个int类型的返回值比较好。
9.11请指出下面函数调用中的错误。 
(a)void xyz(); 函数调用时不需写函数类型。
(b)xyz(void); 无参数的函数在调用时不需写void。
(c)xyz(int x, int y); 函数在调用时不需写参数类型。
(d)xyz(); 正确。
(e)xyz ()+xyz (); 正确。
9.12如下的函数用于两个浮点数的除法运算。
divide (float x ,float y)
{
　return (x/y);
}
下面函数调用的值是什么?
(a)divide(10,2) 5
(b)divide(9,2) 4
(c)divide(4.5,1.5) 3
(e)divide(2.0,3.0) 0
9.13在上面习题中,如果把函数进行如下修改,那么函数调用的结果将是什么? 
(a) int divide(int , int y) 缺少参数x，将无法编译通过。若写为int divide(int x, int y)，运行结果为5, 4, 4, 0。
(b) double divide(float x, float y) 0, 0, 0, 1431655765。
9.14请指出下面程序的输出结果。
int prod (int m, int n);
main()
{
int x=10;
int y=20 ;
int p, q;
p=prod(x,y); 
q=prod(p,prod(x,z )); //z没有定义，应该为印刷错误，将z改为y。
printf("%d %d\n",p ,q);
}
int prod (int a, int b)
{
	return (a*b);
}
修改后的运行结果为200 40000
9.15请指出下面程序的输出结果。
void test(int *a);
main()
{
　　int x=50; 
　　test(&x); 
　　printf("%d\n", x);
}
void test (int *a)
{
　　*a=*+50;  //应该有印刷错误，可能为*a=*a+50;
}
修改后的运行结果为100。
9.16函数test的代码编写如下：
int test (int number)
{
	int m, n =0;
	while (number)
	{
		m = number % 10;
		if (m % 2)
			n = n +1;
		number = number /10;
　　}
　　return (n);
}
当运行下面语句时,x和y的值为多少?
int.x=test (135); 3
int y=test (246); 0
10.16复习题
10.1请判断下面语句的对错。
(a)struct类型在C语言中是一种内置的数据类型。错
(b)结构的标记名是可选的。对
(c)结构可以只包含某种数据类型的成员。对
(d)结构变量用于声明含有多个域的数据类型。对
(e)把一个结构变量的内容复制给另一相同类型的结构变量是合法的。对
(f)结构总是通过指针来传递给函数的。错
(g)指针可用来访问结构变量的成员。对
(h)如果结构变量只含有数字类型的成员,可以进行算术操作。错 
(i)关键字可typedef用于定义一种新的数据类型。错：并不能定义新类型，而仅仅是定义一个表示已有的数据类型的标识符。
(j)在使用指针p访问结构成员时,下面两种表示是等价的:
　　(*p).member_name 和p->member_name 对
(k)联合的初始化方法可以与结构的相同。错
(l)一个联合可以是另一个联合的成员。对
(m)联合不能作为结构的一个成员。对 
(n)数组不能作为结构的一个成员。错
(o)结构中的某个成员本身也可以是一个结构。对
10.2请在空白处填入适当的词。
(a)       可以用来创建己定义数据类型的别名。typedef
(b)        就是在某个名字下面的数据项集,其中的每个项共享相同的存储空间。联合 
(c)结构名可以看作是      。某种数据类型名
(d)成员选择运算符需要使用一个       来访问结构的成员。'.'
(e)在结构定义中声明的变量称为结构的           。标记符名
10.3下面语句使用结构标记名abc来声明并初始化struct abc类型的结构变量。请问哪一个是正确的?为什么?假设结构abc有3个成员,分别为int、float和char类型。
(a)stuct a,b,c; 错
(b)stuct abc a,b,c 错：没有分号
(c)abc x,y,z; 错，没有stuct关键字
(d)struct abc a []; 对：定义了一个指向结构abc的指针。
(e)struct abc a={}; 对
(f)struct abc=b,{1+2,3.0, "xyz"} 错
(g)struct abc c={4,5,6}; 对
(h)struct abc a =4,5.0,"xyz"; 错：少了大括号
10.4给定下面声明语句:
struct abc a ,b,c;
下面哪些语句是合法的? 
(a)scanf("%d", &a); 合法
(b)printf("%d", b); 合法
(c)a =b; 合法
(d)a =b+c; 非法
(e)if(a>b)
   ......非法
故合法的语句为a, b, c。
10.5
给定下面声明语句:
struct item_bank
{
　　int number ;
　　double cost ;
};
下面声明struct item_bank类型的一维结构数组的语句，哪个是正确？d
(a) int item_bank items[10];
(b) struct items[10] item_bank;
(c) struct item_bank items(10);
(d) struct item_bank items[10];
(e) struct items item_bank[10];
10.6给定下面声明语句：
typedef struct abc
{
	char x ;
	int y ;
	float z[10];
}ABC;
下面哪个声明语句是不合法的?为什么? 
c。因为typedef只是将struct abc赋予了一个新名字ABC，因此struct ABC v3; 就相当于struct struct ABC v3; 显然是错误的。
(a) struct abc v1;
(b) struct abc v2[10];
(c) struct ABC v3;
(d) ABC a,b,c;
(e) ABC a[10];
10.7 结构与数组的区别是什么？
区别主要为：
1．数组是相同类型的相关数据元素的集合，而结构可以有不同类型的元素；
2．数组其实是一个派生的数据类型，而结构是一种由程序员自定义的数据类型；
3．数组相当于C语言内置的一种数据类型，而结构需要由我们设计并声明一个数据结构之后才能声明和使用该类型的变量。
10.8 请解释以下内容的含义与作用。
(a)模板 
模板就是结构格式的定义。它并不直接声明任何变量，而是间接的通过该定义来声明结构变量。
(b)struct关键字 
用来定义结构格式以及声明结构变量的关键字。
(c )typedef关键字
用来定义一个表示已有的数据类型的标识符。自定义数据类型标识符可用于声明变量。
(d)sizeof运算符
获知任意变量或结构的大小。
(e)标记名 
既结构名，用来声明属于该结构的变量。
10.9请解释下面结构声明中有什么错误。
struct
{
	int number;
	float price;
}
main()
{
	......
}
1．struct结构模板没有以分号结尾；
2．由于模板中不包含标记符名，则必须将结构定义与变量声明组合在一条语句之中，否则模板无法用来声明其他变量了。
10.10请问何时使用以下内容? 
(a)联合 
当需要不同类型的成员，但是一次只需要处理一个成员时，可以使用联合。
(b)位域 
当需要存储的数据项需要不到16位的空间时，可以用位域来节省空间。
(c)sizeof运算符 
当需要获知某变量或结构的大小时，需要使用sizeof运算符。
10.11下面术语的含义是什么? 
(a)嵌套结构
结构中的结构就是嵌套结构。
(b)结构数组 
数组的每个成员都是一个结构变量，则该数组被称为结构数组。
10.12给定下面结构声明和定义:
struct abc
{
	int a;
	float b;
};
struct xyz
{
	int x;
	float y;
};
abc a1, a2;
xyz x1, x2; 
//似乎有误，应该为：
struct abc a1, a2;
struct xyz x1, x2; 
请找出下面语句中的错误(如果有)。 
(a)a1=x1; 错：a1和x1并非是相同的结构，故不能赋值。
(b)abc.a1=10.75; 错：abc是标记符，不是结构变量。
(c)int m =a +x; 错：a和x的作用域分别在结构的定义中。
(d)int n =x1.x+10; 对
(e)a1=a2; 对
(f)if(a.al>x.x1)... 错，明显没有a和x这两个结构变量。
(g)if(a1.a>x1.x)...... 对
(h)(x1!=x2).... 错，结构之间不可以使用!=进行比较
11.18复习题
11.1请判断下面语句的对错。
(a)指针常量是内存空间的地址。对
(b)指针变量使用地址运算符来声明。错：应该为间接运算符*
(c)指针变量的基本类型为void。错：空指针(void *)是通用指针，可以表示任何的指针类型，空指针没有具体类型。
(d)术语指向指针的指针表示的是某个指针的内容是另一个指针的地址。对
(e)可以把指向整数的指针转换为指向浮点数的指针。可以 
(f)整数可以与指针相加。对
(g)两个指针不能做减法运算。错
(h)当把数组作为参数传递给函数时,实际传递的是指针。 对
(i)在函数头中,指针不能用作形参。错
(j)某函数中局部变量的值可以通过另一个函数来修改。 对
11.2请在空白处填入适当的词。
(a)指针变量所包含的值是另一变量的      。地址
(b)      运算符与指针一起用于间接引用包含在该指针中的地址。 地址运算符&
(c)       运算符返回的是其操作数所指向的变量的值。 间接运算符*
(d)可以赋给指针变量的唯一整数是      。0
(e)声明为         的指针不能被间接引用。空指针
11.3何谓指针?
指针的值就是内存地址。
11.4指针如何初始化?
指针变量一旦声明，就可以使用赋值运算符来初始化该变量。必须确保指针变量总是指向相应的数据类型。
11.5请说明下面语句的结果。
(a)int a,*b=&a; 将a声明为整形变量，b为指针变量，然后把b初始化为指向a的地址。
(b)int p,*p; 编译出错，因为重复对p进行声明。
(c)char *s; 声明s为指向字符的指针，通常可以将s看作是字符串的名称。
(d)a =(float*)&x; 将非指向float类型的指针转化为指向float类型的指针，并赋值给a。
(e)double (*f)(); 声明一个指向函数的指针。
11.6如果m和n己声明为整数,p1和p2声明为整数指针,请指出下面语句中的错误(如果有)。
(a)p1=&m; 正确
(b)p2=n; 错：不能将一个非零整数赋值给指针变量。
(c)*p1=&n; 正确
(d)p2=&*&m; 正确
(e)m =p2-p1; 正确
(f)pl=&p2; 错：&p2是指向p2的指针，不应被赋值给整数指针p1。
(g)m =*p1+*p2++ 正确
11.7请指出(*m)[5]和*m[5]之间的区别。
对于(*m)[5]，m是指向指针的指针，*m为数组的首地址，(*m)[5]为数组的第五个元素。
*m[5]是指针数组中的第五个元素（指针）所指向的内容，指针数组数组中每个元素都是指针。
11.8请指出下面语句中的错误(如果有)。
(a)int x=10; 正确
(b)int *y=10; 错误：不能将一个非零整数赋值给指针变量。
(c)int a,*b=&a; 正确
(d)int m;
　int **x=&m; 错误：变相地将一个非零整数赋值给指针变量。
11.9给定以下声明语句:
int x=10, y=10;
int *p1=&x, *p2=&y;
请指出下面表达式的值将是多少?
(a)(*p1)++ 10
(b)--(*p2) 9
(c)*p1+(*p1)-- 22
(d)++(*p2)-*p1 0
11.10请描述一下指针在程序开发中的一些典型应用。
12.8复习题
12.1请判断下面语句的对错。
(a)使用文件前必须先把它打开。 对
(b)所有文件都必须显式地关闭。错
(c)在C程序中,总是利用文件名来引用该文件。错
(d)使用fseek函数定位文件时,如果超出了文件的末尾,是错误的。 对：将会产生一个错误，fseek返回-1。
(e)fseek函数只能从文件的开头开始查找。错
12.2请在空白处填入适当的词。
(a) 模式        用来打开一个文件,进行内容更新。w
(b) 函数        可用于定位在文件的开始。 rewind
(c) 函数        可以给出文件的当前位置。ftell
(d) 函数         用于往随机访问的文件中写入数据。fseek
12.3请描述一下getc利putc函数的使用及其限制。
使用：
getc()：它返回指定输入流的当前位置的下一个字符，并使文件指针移动一个字符位置。
putc()：从文件指针指向的文件中读取一个字符，并使文件指针移动一个字符位置。
限制：
需要测试文件结束条件，任何试图超过文件末尾的读取都将导致程序错误终止或无限循环。
12.4何谓EOF? 
文件末尾标记符：表示数据的结束。
12.5当程序终止时,该程序使用的所有文件都将自动关闭。那么,当程序运行时, 为什么还有必要关闭文件?
一，可以防止与该文件有关的未完成的信息不会从缓冲区冲掉；
二，防止文件的以外无用；
三，有时，同时打开文件的数量是有限制的，即时关闭文件可能会节约系统资源；
四，需要以另一种不同的方式重新打开同一文件。
12.6请区分下面函数:
(a)getc与getchar
getc()：它返回指定输入流的当前位置的下一个字符，并使文件指针移动一个字符位置。
getchar()：从标准输入读取一个字符，并回显，它等到输入一个回车才结束，即使输入了一个字符串,它也只取其中的第一个字符。
(b)printf与fprintf
fprintf是用于文件操作的，包括标准输出。而printf只是向标准输出进行输出。
(c)feof与ferror
feof用来检测是否到达文件尾，ferror用来检测文件的I/O错误。
12.7添加模式与写模式有何不同? 
添加模式是向文件中添加内容，先前的文件内容是安全的。而写模式将先前的内容删除后再重新向文件中写内容。
12.8 rewind和ftell函数的常见使用是什么? 
rewind函数以一个文件指针作为参数，把指针位置重置到文件的开头。该函数使得不用反复地打开和关闭文件，就可以多次读取一个文件。
ftell函数以一个文件指针作为参数，返回当前文件指针的位置。通常用来保存文件的当前位置。
12.9请解释一下fseek函数的一般模式。 
fseek( file_ptr, offset, position);
其中file_ptr是文件指针，offset为long型的整数或整数变量，position为开始计算要移动的位置。offset可以使正数（向前移动）也可以是负数（向后移动）。当操作成功时，fseek返回0，若试图将文件指针移出文件的末尾，将会产生一个错误，fseek返回-1。
12.10语句rewind(fp)与fseek(fp,0L,0)的区别是什么?
没有区别。rewind为了方便使用。
